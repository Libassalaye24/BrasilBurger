{% extends 'base.html.twig' %}

{% block title %}Hello ComplementController!
{% endblock %}

{% block body %}
	<style>

		html {
			font-size: 62.5%;
		}
		.home {
			margin-top: -2%;
		}
		</style>
	<!-- home section starts  -->
	{% for message in app.flashes('produit') %}
		<div class="alert alert-danger" id="produit" style="background-color: #adeace;padding:10px;text-align:center;border-radius:5px;margin-bottom:5px;">
			{{ message }}
		</div>
	{% endfor %}
	<section class="home" id="home">

		<div class="content">
			<span>Welcome to brasil Burger</span>
			<h3>different spices for the different tastes ðŸ˜‹</h3>
			<p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Omnis unde dolores temporibus hic quam debitis tenetur harum nemo.</p>
			<a href="#popular" class="btn">Commander maintenant</a>
		</div>

		<div class="image">
			<img
			src="{{asset('img/image/home-b-img.png')}}" alt="" class="home-img">
		{#         <img src="{{asset('img/image/home-parallax-img.png')}}" alt="" class="home-parallax-img">
																									 #}
		</div>

	</section>

	<!-- home section ends  -->
	<section class="category">

		<a href="#" class="box">
			<img src="{{asset('img/image/cat-1.png')}}" alt="">
			<h3>combo</h3>
		</a>

		<a href="#" class="box">
			<img src="{{asset('img/image/cat-2.png')}}" alt="">
			<h3>pizza</h3>
		</a>

		<a href="#" class="box">
			<img src="{{asset('img/image/cat-3.png')}}" alt="">
			<h3>burger</h3>
		</a>


		<a href="#" class="box">
			<img src="{{asset('img/image/cat-6.png')}}" alt="">
			<h3>coffee</h3>
		</a>

	</section>
	<section class="about" id="about">

    <div class="image">
        <img src="{{asset('img/burgerImages/i153782-burger-largejpg-removebg-preview.png')}}" alt="">
    </div>

    <div class="content">
        <span>why choose us?</span>
        <h3 class="title">what's make our food delicious!</h3>
        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Eos ut explicabo, numquam iusto est a ipsum assumenda tempore esse corporis?</p>
        <a href="#" class="btn">read more</a>
        <div class="icons-container">
            <div class="icons">
                <img src="{{asset('img/image/serv-1.png')}}" alt="">
                <h3>fast delivery</h3>
            </div>  
            <div class="icons">
                <img src="{{asset('img/image/serv-2.png')}}" alt="">
                <h3>fresh food</h3>
            </div>   
            <div class="icons">
                <img src="{{asset('img/image/serv-3.png')}}" alt="">
                <h3>best quality</h3>
            </div>  
            <div class="icons">
                <img src="{{asset('img/image/serv-4.png')}}" alt="">
                <h3>24/7 support</h3>
            </div>           
        </div>
    </div>

</section>
	<!-- popular section starts  -->

	<section class="popular" id="popular">

		<div class="heading">
			<span>popular food</span>
			<h3>our special dishes</h3>
		</div>
		<div class="form-filtre">
			<form method="POST" action="{{path('catalogue_by_type')}}">
				<div class="col-md-2">
					<label>Filter les Produits :</label>
					<select class="form-select" id="select-type" aria-label="Default select example">
						<option>par Type</option>
						<option value="menu" {% if typeSelected is defined %} {% if typeSelected == 'menu' %} selected="selected" {% endif %} {% endif %} data-path="{{ path('catalogue_by_type',{type:'menu'})}}">menu</option>
						<option value="burger" {% if typeSelected is defined %} {% if typeSelected == 'burger' %} selected="selected" {% endif %} {% endif %} data-path="{{ path('catalogue_by_type',{type:'burger'})}}">burger</option>
					</select>
				</div>
			</form>
		</div>
		<div class="box-container">
			{% for product in products %}

				<div class="box" data-aos="fade-up" data-aos-duration="3000">
					<div class="image">
						<img src="{{asset('img/uploads/' ~ product.image.nom)}}" class="animate__backInUp" alt="">
					</div>
					<div class="content">

						<h3>{{product.nom}}</h3>

						<div class="stars">
							<i class="fas fa-star"></i>
							<i class="fas fa-star"></i>
							<i class="fas fa-star"></i>
							<i class="fas fa-star"></i>
							<i class="fas fa-star-half-alt"></i>
							<span>
								(50)
							</span>
						</div>
						<div class="price">
							{% if product.type == 'burger' %}
								{{product.prix}}
							{% else %}
								{% set montant = product.burger.prix %}
								{% set montantC = 0 %}
								{% for comp in product.complements %}
									{% set montantC = montantC + comp.prix %}
								{% endfor %}
								{{montant + montantC}}
							{% endif %}
							FCFA
						</div>

						<a href="{{path('details',{id: product.id})}}" class="btn">voir details</a>
						<a href="{{path('add_panier',{id: product.id ~ product.type})}}" id="{{product.id ~ product.type}}" class="btn ">
							<i class="fa-solid fa-cart-plus"></i>
							ajouter
						</a>
					</div>
				</div>
			{% endfor %}


		</div>
		<div class="loader-spiner">
			<div class="circle"></div>
			<div class="circle"></div>
			<div class="circle"></div>
		</div>

		{% if typeSelected is not defined %}
			<div class="p" style="">
				<div class="pagination">
					{{ knp_pagination_render(products,'./pagination.twig') }}
				</div>
			</div>
		{% endif %}
	</section>

	<!-- popular section ends -->

	<!-- banner section starts  -->

	<section class="banner">

		<div class="row-banner">
			<div class="content">
				<span>double cheese</span>
				<h3>burger</h3>
				<p>with cococola and fries</p>
				<a href="#" class="btn">order now</a>
			</div>
		</div>

	</section>

	<!-- banner section ends -->
	<!-- order section starts  -->

	<section class="order" id="order">

		<div class="heading">
			<span>order now</span>
			<h3>fastest home delivery</h3>
		</div>

		<div class="icons-container">

			<div class="icons">
				<img src="{{asset('img/image/icon-1.png')}}" alt="">
				<h3>7:00am to 10:30pm</h3>
			</div>

			<div class="icons">
				<img src="{{asset('img/image/icon-2.png')}}" alt="">
				<h3>+123-456-7890</h3>
			</div>

			<div class="icons">
				<img src="{{asset('img/image/icon-3.png')}}" alt="">
				<h3>mumbai, india - 400104</h3>
			</div>

		</div>

		<iframe src="https://www.google.com/maps/embed?pb=!1m23!1m12!1m3!1d63612502.52014224!2d-11.285175924981752!3d13.312969429018338!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!4m8!3e6!4m0!4m5!1s0xec173c21564c333%3A0x504d9e7bb5384f5a!2sEcole%20221%2C%20Dieuppeul%201%20Villa%20en%20face!3m2!1d14.716926299999999!2d-17.45194!5e0!3m2!1sfr!2ssn!4v1652188228495!5m2!1sfr!2ssn" width="1240" height="400" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
	</section>


	<!-- order section ends -->
	<!-- footer section starts  -->

	<section class="footer">


		<div class="box-container">

			<div class="box">
				<h3>our menu</h3>
				<a href="#">
					<i class="fas fa-arrow-right"></i>
					pizza</a>
				<a href="#">
					<i class="fas fa-arrow-right"></i>
					burger</a>
				<a href="#">
					<i class="fas fa-arrow-right"></i>
					chicken</a>
				<a href="#">
					<i class="fas fa-arrow-right"></i>
					pasta</a>
				<a href="#">
					<i class="fas fa-arrow-right"></i>
					and more...</a>
			</div>

			<div class="box">
				<h3>quick links</h3>
				<a href="#home">
					<i class="fas fa-arrow-right"></i>
					home</a>
				<a href="#about">
					<i class="fas fa-arrow-right"></i>
					about</a>
				<a href="#popular">
					<i class="fas fa-arrow-right"></i>
					popular</a>
				<a href="#menu">
					<i class="fas fa-arrow-right"></i>
					menu</a>
				<a href="#order">
					<i class="fas fa-arrow-right"></i>
					order</a>
				<a href="#blogs">
					<i class="fas fa-arrow-right"></i>
					blogs</a>
			</div>

			<div class="box">
				<h3>extra links</h3>
				<a href="#">
					<i class="fas fa-arrow-right"></i>
					my order</a>
				<a href="#">
					<i class="fas fa-arrow-right"></i>
					my account</a>
				<a href="#">
					<i class="fas fa-arrow-right"></i>
					my favorite</a>
				<a href="#">
					<i class="fas fa-arrow-right"></i>
					terms of use</a>
				<a href="#">
					<i class="fas fa-arrow-right"></i>
					privary policy</a>
			</div>

			<div class="box">
				<h3>opening hours</h3>
				<p>monday : 7:00am to 10:00pm</p>
				<p>tuesday : 7:00am to 10:00pm</p>
				<p>wednesday : 7:00am to 10:00pm</p>
				<p>friday : 7:00am to 10:00pm</p>
				<p>saturday and sunday closed</p>
			</div>

		</div>

		<div class="bottom">

			<div class="share">
				<a href="#" class="fab fa-facebook-f"></a>
				<a href="#" class="fab fa-twitter"></a>
				<a href="#" class="fab fa-instagram"></a>
				<a href="#" class="fab fa-linkedin"></a>
				<a href="#" class="fab fa-pinterest"></a>
			</div>

			<div class="credit">
				created
				<span>mr. Libasse Laye Mbaye</span>
				| all rights reserved!
			</div>

		</div>

	</section>

	<!-- footer section ends -->

{% endblock %}
{% block javascripts %}
	{{parent()}}
	<script src="{{asset('js/catalogue.js')}}"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

	<script>

		const select = document.querySelector('#select-type');
select.addEventListener("change", function (event) {
console.log('true');
const option = event.target.options[select.selectedIndex];
const path = option.getAttribute('data-path')
fetch(path, {
method: 'GET',
headers: {
'Content-Type': 'application/json'
}
}).then(response => response.json()).then(promesse => {
window.location.href = promesse;
}).catch(err => console.log(err))


});
setTimeout(function () {
$('#produit').fadeOut('fast');
}, 1000);
	</script>

{% endblock %}
