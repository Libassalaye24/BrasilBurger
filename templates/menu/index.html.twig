{% extends 'base.html.twig' %}

{% block title %}Hello MenuController!
{% endblock %}

{% block body %}
	{{parent()}}

	<div class="container">
		<div class="column">
			<div class="inline">
				<h4>
					Liste des menus
				</h4>
				<a role="button" href="{{ path('add_menu') }}" class=" btn-ajout">
					<i class="fas fa-plus "></i>
					Ajouter
				</a>
			</div>
			<div class="card">


				<div class="row">

					<a href="" style="margin-left:auto" class="link">
						Liste des archives
						<i class="fas fa-arrow-right "></i>
					</a>
				</div>
				<div style="overflow-x:auto;">
					<table>
						<thead class=" ">
							<tr class="">
								<th>#</th>
								<th>Nom</th>
								<th>Prix</th>
								<th>Composants</th>
								<th>Action</th>
							</tr>
						</thead>
						{% for menu in menus %}

							<tr>
								<td><img src="{{ asset('img/uploads/' ~ menu.image.nom) }}" class="  rounded-pill" style="width: 40px;height:40px;" alt=""></td>
								<td>{{ menu.nom }}</td>
								{% set montant = menu.burger.prix %}
								{% set montantC = 0 %}
								<td>
									{{menu.burger.nom}}/
									{% for comp in menu.complements %}
										{{comp.nom}}/
										{% set montantC = montantC + comp.prix %}
									{% endfor %}
								</td>
								<td>
                                {{montantC + montant }}
									Fcfa
                                </td>
								<td>
									<a name="" id="" class=" btnUpdate" href="{{ path('edit_menu',{'id':menu.id}) }}" role="button">
										<i class="fa fa-edit" aria-hidden="true"></i>
									</a>
									{% if menu.etat == false %}
										<a name="" id="" class=" btnArchive " href="{{ path('change_etat',{'id':menu.id}) }}" role="button">
											<i class="fa fa-archive" aria-hidden="true"></i>
										</a>
									{% else %}
										<a name="" id="" class=" btnArchive" href="{{ path('change_etat',{'id':menu.id}) }}" role="button">
											<i class="fa fa-file" aria-hidden="true"></i>
										</a>
									{% endif %}

								</td>
							</tr>
						{% endfor %}

					</table>
				</div>
				<div class="p ">
					<div
						class="pagination">{#  {{ knp_pagination_render(menus,'./pagination.twig') }} #}
					</div>
				</div>
			</div>


		</div>
	</div>
{% endblock %}
